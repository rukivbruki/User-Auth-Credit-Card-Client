import{j as w,k as b,x as y,s as S,r as k,o as h,c as v,u as t,F as g,a as e,t as x,w as U,b as V,d as B,e as C,p as F,f as q,g as E,l as A,m as D}from"./index.e3efdd73.js";const L={class:"add-container"},R={class:"form-container"},T=["onSubmit"],j=e("label",{for:"firstName"},"First Name",-1),I=["value"],M=e("label",{for:"lastName"},"Last Name",-1),P=["value"],z=e("label",{for:"username"},"Username",-1),G=["value"],H=e("label",{for:"username"},"Password (Leave blank to keep the same password)",-1),J=["value"],K=e("button",{type:"submit",value:"Save"},"Save",-1),O=E("Cancel"),Y={__name:"UsersEditing",setup(Q){const o=w(),n=b(),i=y().params.id;let u="Add User",s=null;i&&(u="Edit User",{user:s}=S(o),o.getById(i));async function N(l){const r=A(l);try{let a;s?(await o.update(s.value.id,r),a="User updated"):(await o.register(r),a="User added"),await D.push("/users"),n.success(a)}catch(a){n.error(a)}}return(l,r)=>{var d,c,m,_,p,f;const a=k("router-link");return h(),v("div",L,[((d=t(s))==null?void 0:d.loading)||((c=t(s))==null?void 0:c.error)?F("",!0):(h(),v(g,{key:0},[e("h1",null,x(t(u)),1),e("div",R,[e("form",{onSubmit:U(N,["prevent"])},[j,V(e("input",{type:"text",id:"firstName",name:"firstName",value:(m=t(s))==null?void 0:m.firstName,required:""},null,8,I),[[t(q)]]),M,e("input",{type:"text",id:"lastName",name:"lastName",value:(_=t(s))==null?void 0:_.lastName,required:""},null,8,P),z,e("input",{type:"text",id:"username",name:"username",value:(p=t(s))==null?void 0:p.username,required:""},null,8,G),H,e("input",{type:"password",id:"password",name:"password",value:(f=t(s))==null?void 0:f.password},null,8,J),K,B(a,{to:"/users",class:"router-link"},{default:C(()=>[O]),_:1})],40,T)])],64))])}}};export{Y as default};
